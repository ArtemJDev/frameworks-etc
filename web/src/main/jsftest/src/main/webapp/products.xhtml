<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:h="http://java.sun.com/jsf/html"
                xmlns:p="http://primefaces.org/ui"
                template="WEB-INF/template.xhtml">
<ui:define name="page_title">Список товаров</ui:define>
<ui:define name="page_body">
  <h:form>
    <p:panelGrid >
      <h:outputText value="Идентификатор"/>
      <h:inputText value="#{productListBean.newProduct.id}"/>

      <h:outputText value="Наименование"/>
      <h:inputText value="#{productListBean.newProduct.name}"/>

      <h:outputText value="Цена"/>
      <h:inputText value="#{productListBean.newProduct.price}"/>

      <p:commandButton value="Создать"  action="#{productListBean.createNewOrder()}" update="products_table"/>
      <!--    по нажатию на кнопку разложатся данные в newProduct со всех форм и после этого сработает action-->
    </p:panelGrid>
  </h:form>
  <!--dataTable перебирает все зхначения из LISt CDI бина, var  - каждая сущность в таблицы-->
  <!--dataTable работает по примеру for each-->
  <h1>работа через ui repeat</h1>
  <ui:repeat value="#{productListBean.products}" var="product">
    <h:outputText value="#{product.name}"/>
    <h:outputText value="#{product.price}"/>
  </ui:repeat>
  <h1>работа через dataTable</h1>

  <p:dataTable value="#{productListBean.products}" var="product" id="products_table">
    <p:column>
      <h:outputText value="#{product.name}"/>
  </p:column>
    <p:column>
      <h:outputText value="#{product.price}"/>
    </p:column>
  </p:dataTable>
  <h1>Добавление товара</h1>


</ui:define>
</ui:composition>